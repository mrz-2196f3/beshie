<!DOCTYPE html>
 <html>
  <head>
    <!-- Added Belanosima font from Google Fonts -->
   <title>Beshifier!</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
   <link rel="icon" type="image/x-icon" href="./cartwheel.png">
    <link href="https://fonts.googleapis.com/css2?family=Josefin+Sans:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
  </head>
<body style="text-align:center;">
    
    <div class="container">
        
        <div class="title-container">
            
            <h1 class="spin-once">ü§∏</h1>
            
            <h1 style="color:pink;">Beshify</h1>
            
            <h1 class="spin-once">ü§∏üèª‚Äç‚ôÇÔ∏è</h1>
            
        </div>

        <!--
        <h6 style="flex-flow: column nowrap;"> <p> Simple website to beshify a text by </p> <h4> MrZ </h4> </h6>
             <p>Inspired by my beshie <small> ( Janezyl Gacer ) </small></p> -->
        
     
     
        <input type="text" id="myText"> <button id="copyText" type="button" onclick="copyBeshified()">COPY</button>

     
       <!-- <button type="button" onclick="beshify()">Convert</button> -->
        <div class="text-container">
            <p id="demo"></p>
        </div>
        <p style="margin-top: 230px;">MRZ - 2023 - 24 | Inspired by my Beshie <small> ( Janezyl Gacer ) </small></p>
        <div id="snackbar">Dear Janezyl Gacer, I love you so much <!--always remember if you get tired, learn to rest not to quit. --></div>
    </div>
    <script>
        showSnackBar();
        //detect changes in input
     document.querySelector("#myText").addEventListener("input", beshify);
        //function that detect and return if there are spaces in given string
        function containsWhitespace(str) {
          return /\s/.test(str);
         }
        
        //Auto Greet kay beshie
        const time = new Date().getHours();
      let greeting;
     if (time < 10) {
  greeting = "Goodü§∏morningü§∏beshieü§∏ko";         
     } else if (time < 20) {
  greeting = "Goodü§∏dayü§∏beshieü§∏ko";
     } else {
  greeting = "Goodü§∏eveningü§∏beshieü§∏ko";
     }
        //display auto greet

        //input box
        
        // output box
        
        document.getElementById("demo").innerHTML = greeting;
        
    // Here the value is stored in new variable as plain text 
    // Lets return it as beshified text
  /*   function dt(e){
      beshify();
    } 
    */
    function beshify() {
        var text = document.getElementById("myText").value;
        // Detect if the text input has white spaces
        if(containsWhitespace(text)){
        const trimmedText = text.trim();
        if  (trimmedText.length > 0) {
            const replacedText = trimmedText.replace(/\s+/g, " ");
            //replace single space into emoji
            document.getElementById("demo").innerHTML = replacedText.replace(/\s/g, "ü§∏");
        } else {
        if  (trimmedText.length > 2 ) {
            
            const replacedText = trimmedText.replace(/\s+/g, " ");
            
            //replace single space into emoji
            
            document.getElementById("demo").innerHTML = replacedText.replace(/\s/g, "ü§∏üèª‚Äç‚ôÇÔ∏è");
            
            
        }
    }
        if (trimmedText != "") {
            
        }
        } else {
         /*
            alert('\n\n\nNOTE: Add space between words or characters to convert it as beshified text \n\n-MrZ');
            console.log('NOTE: Add space between words or characters to convert it as beshified text');
          */
        }
    }
    function copyBeshified () {
     //copy button blinks for 2secs
     var copyButton = document.getElementById("copyText");
            copyButton.classList.add("highlight");
            // Remove class after 1 second
            setTimeout(function() {
                copyButton.classList.remove("highlight");
            }, 500);
     
        var textElement = document.getElementById("demo");
      var text = textElement.innerText;
        navigator.clipboard.writeText(text)
        .then(function() {    
            alert('\nCopied to clipboard!');
        })
        .catch(function(err) {
            alert('\nFailed to copy beshified text.');
            console.error('Failed to copy beshified text: ', err);
            
        });
    }
    function showSnackBar() {
  // Get the snackbar DIV
  var x = document.getElementById("snackbar");

  // Add the "show" class to DIV
  x.className = "show";

  // After 3 seconds, remove the show class from DIV
  setTimeout(function(){ x.className = x.className.replace("show", ""); }, 5000);
}
        
    </script>
   </body>
 </html>
